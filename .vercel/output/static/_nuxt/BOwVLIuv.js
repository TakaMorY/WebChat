import{$ as r,A as s}from"./rPPG3L9u.js";const i=r("auth",{state:()=>({user:null,isAuthenticated:!1}),actions:{async login(e){try{const t=await $fetch("/api/users/login",{method:"POST",body:e});return this.user=t,this.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("isAuthenticated","true"),!0}catch(t){throw console.error("Login failed:",t),t}},async register(e){try{const t=await $fetch("/api/users/registration",{method:"POST",body:e});return this.user=t,this.isAuthenticated=!0,localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("isAuthenticated","true"),t}catch(t){throw console.error("Registration failed:",t),t}},logout(){this.user=null,this.isAuthenticated=!1,localStorage.removeItem("user"),localStorage.removeItem("isAuthenticated"),s("/")}}});export{i as u};
